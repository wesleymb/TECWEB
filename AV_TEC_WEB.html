<!-- https://github.com/andreeppinghaus/tecweb2 -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>TrabalhoTecWeb2</title>
</head>
<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
<script>
 
    $(document).ready(function() {
        var contador_de_filhos = 0;
    
        function criar_div_filho() {
            $('#dinamica').append(
                '<div id="filhos" name="filho_'+ contador_de_filhos + '">\
                    <p><label for="nome">Nome: </label>\
                    <input id="nome" name="nome_filho_'+ contador_de_filhos + '" required="required" type="text" placeholder="Relampago Carlin">\
                    <button type="button" id="btn_adicionar">Adicionar</button><br>\
                    </p>\
                    <p><label for="idade">Idade: </label>\
                    <input id="idade" name="idade_filho_'+ contador_de_filhos + '" required="required" type="text" placeholder="Relampago Carlin">\
                    <button type="button" id="btn_excluir" value='+ contador_de_filhos + '>Excluir</button><br>\
                    </p>\
                </div>'
                );
                contador_de_filhos = contador_de_filhos +1;
                
        }

        $( "input[name=filhos]" ).on( "click", function() {
        let entrada_filhos =  $( "input:checked" ).val();


        // console.log(contador_de_filhos)
        if (entrada_filhos == '1' && contador_de_filhos == 0){
            criar_div_filho();
                    
        } else{
            contador_de_filhos = 0;
            let lista_de_div = $("[id='filhos']");
            // console.log(lista_de_div)
            $(lista_de_div).remove();

        }

        });
        
        $(document).on('click', '#btn_adicionar', function () {
            criar_div_filho();

        });

        
		$(document).on('click', '#btn_excluir', function () {
		    var btn_excluir = $(this).val();
            $('div[name="filho_'+ btn_excluir + '"]').remove();
    
        });
        

    });
</script>

<body>
    <form action = "AV_TEC_WEB.php">
        <p>
            <label for="nome_login">Digite o nome: </label>
            <input id="nome_login" name="nome" required="required" type="text" placeholder="Relampago Carlin">
        </p>
        <p> 
            <label for="idade_login">Idade: </label>
            <input id="idade_login" name="idade" required="required" type="text" placeholder="Exemplo de idade 102" > 
        </p>
        
        <p id="opcao_filhos">
            <h3>Tem filhos?</h3>
                <input type="radio" name="filhos" value="0" id="radio_nao"> Nao
                <input type="radio" name="filhos" value="1" id="radio_sim"> Sim
                <div id="dinamica" name='dinamica'>  </div>
                <input type="submit" id="btn_enviar" >
        </p>
         
       
    </form>
      
</body>
</html>